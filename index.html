<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobFinder - Find Your Dream Job</title>
    <style>
        /* CSS Variables for Theming */
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --accent-color: #4fc3f7;
            --text-color: #333;
            --light-text: #777;
            --bg-color: #f5f7fa;
            --card-bg: #fff;
            --border-color: #e1e4e8;
            --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        /* Dark Mode Variables */
        .dark-mode {
            --primary-color: #6b8cba;
            --secondary-color: #2a7fba;
            --accent-color: #4fc3f7;
            --text-color: #f0f0f0;
            --light-text: #b0b0b0;
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --border-color: #333;
            --shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            transition: var(--transition);
        }

        a {
            text-decoration: none;
            color: var(--primary-color);
        }

        button {
            cursor: pointer;
            transition: var(--transition);
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header Styles */
        header {
            background-color: var(--card-bg);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .logo span {
            color: var(--accent-color);
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            color: var(--text-color);
            font-weight: 500;
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 500;
            border: none;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
        }

        .btn-outline:hover {
            background-color: rgba(74, 111, 165, 0.1);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-color);
        }

        /* Search Section */
        .search-section {
            padding: 30px 0;
            background-color: var(--card-bg);
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        .search-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .search-row {
            display: flex;
            gap: 15px;
            width: 100%;
        }

        .search-input {
            flex: 1;
            position: relative;
        }

        .search-input input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .search-input input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(79, 195, 247, 0.2);
        }

        .autocomplete-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-top: none;
            border-radius: 0 0 4px 4px;
            z-index: 10;
            max-height: 200px;
            overflow-y: auto;
            display: none;
        }

        .autocomplete-results.show {
            display: block;
        }

        .autocomplete-item {
            padding: 10px 15px;
            cursor: pointer;
        }

        .autocomplete-item:hover {
            background-color: rgba(74, 111, 165, 0.1);
        }

        .filter-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-group {
            flex: 1;
            min-width: 150px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9rem;
            color: var(--light-text);
        }

        .filter-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .salary-range {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .salary-range input {
            width: 100px;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        /* Main Content */
        .main-content {
            display: flex;
            gap: 30px;
            padding-bottom: 30px;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            flex-shrink: 0;
        }

        .sidebar-section {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .sidebar-title {
            font-size: 1.1rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .saved-jobs-list {
            list-style: none;
        }

        .saved-job-item {
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .saved-job-item:last-child {
            border-bottom: none;
        }

        .saved-job-title {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .saved-job-company {
            font-size: 0.8rem;
            color: var(--light-text);
        }

        /* Job Listings */
        .job-listings {
            flex: 1;
        }

        .view-toggle {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 20px;
        }

        .view-toggle button {
            background: none;
            border: none;
            color: var(--light-text);
            font-size: 1.2rem;
            padding: 5px 10px;
        }

        .view-toggle button.active {
            color: var(--primary-color);
        }

        .job-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .job-list.list-view {
            display: block;
        }

        .job-list.list-view .job-card {
            display: flex;
            max-width: none;
        }

        .job-list.list-view .job-card-image {
            width: 100px;
            height: 100px;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .job-list.list-view .job-card-content {
            flex: 1;
        }

        .job-list.list-view .job-card-actions {
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
            min-width: 120px;
        }

        .job-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .job-card-image {
            width: 50px;
            height: 50px;
            background-color: #f0f0f0;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .job-card-image img {
            max-width: 100%;
            max-height: 100%;
        }

        .job-card-title {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .job-card-company {
            font-size: 0.9rem;
            color: var(--light-text);
            margin-bottom: 10px;
        }

        .job-card-details {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }

        .job-card-detail {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
        }

        .job-card-detail i {
            color: var(--accent-color);
        }

        .job-card-description {
            font-size: 0.9rem;
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .job-card-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .save-job {
            background: none;
            border: none;
            color: var(--light-text);
            font-size: 1.2rem;
        }

        .save-job.saved {
            color: var(--accent-color);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
        }

        .pagination button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid var(--border-color);
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        .pagination button.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            border: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            z-index: 99;
        }

        /* Footer */
        footer {
            background-color: var(--card-bg);
            padding: 30px 0;
            border-top: 1px solid var(--border-color);
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
        }

        .footer-column h3 {
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column li {
            margin-bottom: 10px;
        }

        .footer-column a {
            color: var(--light-text);
        }

        .footer-column a:hover {
            color: var(--primary-color);
        }

        .copyright {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            color: var(--light-text);
            font-size: 0.9rem;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            .nav-links, .auth-buttons {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .search-row {
                flex-direction: column;
            }

            .main-content {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
            }

            .job-list {
                grid-template-columns: 1fr;
            }

            .view-toggle {
                justify-content: center;
            }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .job-list {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            left: -100%;
            width: 80%;
            max-width: 300px;
            height: 100vh;
            background-color: var(--card-bg);
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: var(--transition);
            padding: 20px;
            overflow-y: auto;
        }

        .mobile-menu.open {
            left: 0;
        }

        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .close-menu {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-color);
        }

        .mobile-nav-links {
            list-style: none;
            margin-bottom: 30px;
        }

        .mobile-nav-links li {
            margin-bottom: 15px;
        }

        .mobile-nav-links a {
            color: var(--text-color);
            font-size: 1.1rem;
        }

        .mobile-auth-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
        }

        .overlay.show {
            opacity: 1;
            pointer-events: auto;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">Job<span>Finder</span></div>
            
            <nav class="nav-links">
                <a href="#">Home</a>
                <a href="#">Jobs</a>
                <a href="#">Companies</a>
                <a href="#">Career Tips</a>
            </nav>
            
            <div class="auth-buttons">
                <button class="btn btn-outline">Login</button>
                <button class="btn btn-primary">Sign Up</button>
            </div>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">☰</button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <div class="logo">Job<span>Finder</span></div>
            <button class="close-menu" id="closeMenuBtn">×</button>
        </div>
        
        <ul class="mobile-nav-links">
            <li><a href="#">Home</a></li>
            <li><a href="#">Jobs</a></li>
            <li><a href="#">Companies</a></li>
            <li><a href="#">Career Tips</a></li>
        </ul>
        
        <div class="mobile-auth-buttons">
            <button class="btn btn-outline">Login</button>
            <button class="btn btn-primary">Sign Up</button>
        </div>
    </div>
    
    <div class="overlay" id="overlay"></div>

    <!-- Search Section -->
    <section class="search-section">
        <div class="container search-container">
            <div class="search-row">
                <div class="search-input">
                    <input type="text" id="keywordSearch" placeholder="Job title, skills, or company">
                    <div class="autocomplete-results" id="keywordAutocomplete"></div>
                </div>
                <div class="search-input">
                    <input type="text" id="locationSearch" placeholder="Location">
                    <div class="autocomplete-results" id="locationAutocomplete"></div>
                </div>
                <button class="btn btn-primary">Search</button>
            </div>
            
            <div class="filter-row">
                <div class="filter-group">
                    <label for="jobType">Job Type</label>
                    <select id="jobType">
                        <option value="">All Types</option>
                        <option value="full-time">Full-time</option>
                        <option value="part-time">Part-time</option>
                        <option value="remote">Remote</option>
                        <option value="contract">Contract</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="experience">Experience Level</label>
                    <select id="experience">
                        <option value="">All Levels</option>
                        <option value="entry">Entry Level</option>
                        <option value="mid">Mid Level</option>
                        <option value="senior">Senior Level</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>Salary Range</label>
                    <div class="salary-range">
                        <input type="number" id="minSalary" placeholder="Min">
                        <span>to</span>
                        <input type="number" id="maxSalary" placeholder="Max">
                    </div>
                </div>
                
                <div class="filter-group">
                    <label for="sortBy">Sort By</label>
                    <select id="sortBy">
                        <option value="recent">Most Recent</option>
                        <option value="salary-high">Salary (High to Low)</option>
                        <option value="salary-low">Salary (Low to High)</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container main-content">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3 class="sidebar-title">Saved Jobs</h3>
                <ul class="saved-jobs-list" id="savedJobsList">
                    <!-- Saved jobs will be populated here by JavaScript -->
                    <li class="saved-job-item">
                        <div class="saved-job-title">Frontend Developer</div>
                        <div class="saved-job-company">Tech Corp</div>
                    </li>
                </ul>
            </div>
            
            <div class="sidebar-section">
                <h3 class="sidebar-title">Jobs Near You</h3>
                <button class="btn btn-outline" id="findNearbyJobs">Find Nearby Jobs</button>
            </div>
            
            <div class="sidebar-section">
                <h3 class="sidebar-title">Job Alerts</h3>
                <p>Get notified about new jobs matching your search.</p>
                <button class="btn btn-primary" style="width: 100%; margin-top: 10px;">Create Alert</button>
            </div>
        </aside>

        <!-- Job Listings -->
        <section class="job-listings">
            <div class="view-toggle">
                <button class="view-btn active" data-view="grid"><span>☷</span> Grid</button>
                <button class="view-btn" data-view="list"><span>☰</span> List</button>
            </div>
            
            <div class="job-list" id="jobList">
                <!-- Job cards will be populated here by JavaScript -->
            </div>
            
            <div class="pagination">
                <button class="page-btn active">1</button>
                <button class="page-btn">2</button>
                <button class="page-btn">3</button>
                <button class="page-btn">4</button>
                <button class="page-btn">5</button>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container footer-container">
            <div class="footer-column">
                <h3>JobFinder</h3>
                <p>Find your dream job with our comprehensive job search platform.</p>
            </div>
            
            <div class="footer-column">
                <h3>For Job Seekers</h3>
                <ul>
                    <li><a href="#">Browse Jobs</a></li>
                    <li><a href="#">Job Alerts</a></li>
                    <li><a href="#">Career Advice</a></li>
                    <li><a href="#">Resume Builder</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>For Employers</h3>
                <ul>
                    <li><a href="#">Post a Job</a></li>
                    <li><a href="#">Browse Candidates</a></li>
                    <li><a href="#">Pricing</a></li>
                    <li><a href="#">Recruitment Solutions</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Company</h3>
                <ul>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                </ul>
            </div>
        </div>
        
        <div class="container copyright">
            <p>&copy; 2023 JobFinder. All rights reserved.</p>
        </div>
    </footer>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle">🌓</button>

    <script>
        // Sample job data
        const jobs = [
            {
                id: 1,
                title: "Frontend Developer",
                company: "Tech Corp",
                location: "San Francisco, CA",
                salary: "$90,000 - $120,000",
                type: "full-time",
                experience: "mid",
                posted: "2 days ago",
                description: "We're looking for a skilled Frontend Developer to join our team. You'll be responsible for building user interfaces using React and working closely with our design team.",
                logo: "💻"
            },
            {
                id: 2,
                title: "UX Designer",
                company: "Design Hub",
                location: "Remote",
                salary: "$80,000 - $110,000",
                type: "remote",
                experience: "mid",
                posted: "1 week ago",
                description: "Join our design team to create beautiful and intuitive user experiences for our products. You'll work with product managers and developers to bring designs to life.",
                logo: "🎨"
            },
            {
                id: 3,
                title: "Backend Engineer",
                company: "Data Systems",
                location: "New York, NY",
                salary: "$110,000 - $140,000",
                type: "full-time",
                experience: "senior",
                posted: "3 days ago",
                description: "We need an experienced Backend Engineer to develop and maintain our server infrastructure. Strong knowledge of Node.js and databases is required.",
                logo: "🔧"
            },
            {
                id: 4,
                title: "Marketing Intern",
                company: "Growth Marketing",
                location: "Chicago, IL",
                salary: "$20 - $25/hr",
                type: "part-time",
                experience: "entry",
                posted: "5 days ago",
                description: "Great opportunity for marketing students to gain real-world experience. You'll assist with social media, content creation, and campaign analysis.",
                logo: "📈"
            },
            {
                id: 5,
                title: "DevOps Engineer",
                company: "Cloud Solutions",
                location: "Austin, TX",
                salary: "$100,000 - $130,000",
                type: "full-time",
                experience: "senior",
                posted: "1 day ago",
                description: "Looking for a DevOps Engineer to streamline our deployment processes and maintain our cloud infrastructure. AWS and Kubernetes experience preferred.",
                logo: "☁️"
            },
            {
                id: 6,
                title: "Product Manager",
                company: "Innovate Inc",
                location: "Boston, MA",
                salary: "$95,000 - $125,000",
                type: "full-time",
                experience: "mid",
                posted: "2 weeks ago",
                description: "Lead product development from conception to launch. Work with cross-functional teams to define product vision and strategy.",
                logo: "📊"
            },
            {
                id: 7,
                title: "Data Scientist",
                company: "Analytics Pro",
                location: "Seattle, WA",
                salary: "$120,000 - $150,000",
                type: "full-time",
                experience: "senior",
                posted: "4 days ago",
                description: "Use your expertise in machine learning and data analysis to derive insights from large datasets and build predictive models.",
                logo: "📊"
            },
            {
                id: 8,
                title: "Content Writer",
                company: "Creative Content",
                location: "Remote",
                salary: "$50,000 - $70,000",
                type: "contract",
                experience: "entry",
                posted: "1 week ago",
                description: "Create engaging content for our blog and marketing materials. Strong writing skills and SEO knowledge required.",
                logo: "✍️"
            }
        ];

        // Sample location suggestions
        const locations = [
            "New York, NY",
            "San Francisco, CA",
            "Chicago, IL",
            "Austin, TX",
            "Seattle, WA",
            "Boston, MA",
            "Remote",
            "Los Angeles, CA",
            "Denver, CO",
            "Atlanta, GA"
        ];

        // Sample keyword suggestions
        const keywords = [
            "Frontend Developer",
            "Backend Engineer",
            "UX Designer",
            "Product Manager",
            "Data Scientist",
            "Marketing Specialist",
            "DevOps",
            "React",
            "JavaScript",
            "Python"
        ];

        // DOM Elements
        const jobList = document.getElementById('jobList');
        const savedJobsList = document.getElementById('savedJobsList');
        const keywordSearch = document.getElementById('keywordSearch');
        const keywordAutocomplete = document.getElementById('keywordAutocomplete');
        const locationSearch = document.getElementById('locationSearch');
        const locationAutocomplete = document.getElementById('locationAutocomplete');
        const jobTypeFilter = document.getElementById('jobType');
        const experienceFilter = document.getElementById('experience');
        const minSalary = document.getElementById('minSalary');
        const maxSalary = document.getElementById('maxSalary');
        const sortBy = document.getElementById('sortBy');
        const viewBtns = document.querySelectorAll('.view-btn');
        const findNearbyJobs = document.getElementById('findNearbyJobs');
        const themeToggle = document.getElementById('themeToggle');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const closeMenuBtn = document.getElementById('closeMenuBtn');
        const overlay = document.getElementById('overlay');

        // Saved jobs in localStorage
        let savedJobs = JSON.parse(localStorage.getItem('savedJobs')) || [];

        // Initialize the page
        function init() {
            renderJobs(jobs);
            renderSavedJobs();
            setupEventListeners();
        }

        // Render job listings
        function renderJobs(jobsToRender) {
            jobList.innerHTML = '';
            
            jobsToRender.forEach(job => {
                const isSaved = savedJobs.includes(job.id);
                
                const jobCard = document.createElement('div');
                jobCard.className = 'job-card';
                jobCard.innerHTML = `
                    <div class="job-card-image">${job.logo}</div>
                    <div class="job-card-content">
                        <h3 class="job-card-title">${job.title}</h3>
                        <div class="job-card-company">${job.company}</div>
                        <div class="job-card-details">
                            <div class="job-card-detail"><i>📍</i> ${job.location}</div>
                            <div class="job-card-detail"><i>💰</i> ${job.salary}</div>
                            <div class="job-card-detail"><i>🕒</i> ${job.posted}</div>
                        </div>
                        <p class="job-card-description">${job.description}</p>
                    </div>
                    <div class="job-card-actions">
                        <button class="save-job ${isSaved ? 'saved' : ''}" data-job-id="${job.id}">${isSaved ? '★' : '☆'}</button>
                        <button class="btn btn-primary">Quick Apply</button>
                    </div>
                `;
                
                jobList.appendChild(jobCard);
            });
        }

        // Render saved jobs in sidebar
        function renderSavedJobs() {
            savedJobsList.innerHTML = '';
            
            if (savedJobs.length === 0) {
                savedJobsList.innerHTML = '<li class="saved-job-item">No saved jobs yet</li>';
                return;
            }
            
            savedJobs.forEach(jobId => {
                const job = jobs.find(j => j.id === jobId);
                if (job) {
                    const savedJobItem = document.createElement('li');
                    savedJobItem.className = 'saved-job-item';
                    savedJobItem.innerHTML = `
                        <div class="saved-job-title">${job.title}</div>
                        <div class="saved-job-company">${job.company}</div>
                    `;
                    savedJobsList.appendChild(savedJobItem);
                }
            });
        }

        // Filter jobs based on search criteria
        function filterJobs() {
            const keyword = keywordSearch.value.toLowerCase();
            const location = locationSearch.value.toLowerCase();
            const jobType = jobTypeFilter.value;
            const experience = experienceFilter.value;
            const min = minSalary.value ? parseInt(minSalary.value) : 0;
            const max = maxSalary.value ? parseInt(maxSalary.value) : Infinity;
            
            let filteredJobs = jobs.filter(job => {
                // Extract numeric salary values for comparison
                const salaryRange = job.salary.match(/\$([0-9,]+)/g);
                let jobMinSalary = 0;
                let jobMaxSalary = Infinity;
                
                if (salaryRange) {
                    jobMinSalary = parseInt(salaryRange[0].replace(/[$,]/g, ''));
                    if (salaryRange.length > 1) {
                        jobMaxSalary = parseInt(salaryRange[1].replace(/[$,]/g, ''));
                    } else {
                        jobMaxSalary = jobMinSalary;
                    }
                }
                
                return (
                    (job.title.toLowerCase().includes(keyword) || 
                     job.company.toLowerCase().includes(keyword) ||
                     job.description.toLowerCase().includes(keyword)) &&
                    (job.location.toLowerCase().includes(location)) &&
                    (jobType === '' || job.type === jobType) &&
                    (experience === '' || job.experience === experience) &&
                    (jobMaxSalary >= min && jobMinSalary <= max)
                );
            });
            
            // Sort jobs
            switch (sortBy.value) {
                case 'salary-high':
                    filteredJobs.sort((a, b) => {
                        const aMax = parseInt(a.salary.match(/\$([0-9,]+)/g)[1].replace(/[$,]/g, ''));
                        const bMax = parseInt(b.salary.match(/\$([0-9,]+)/g)[1].replace(/[$,]/g, ''));
                        return bMax - aMax;
                    });
                    break;
                case 'salary-low':
                    filteredJobs.sort((a, b) => {
                        const aMin = parseInt(a.salary.match(/\$([0-9,]+)/g)[0].replace(/[$,]/g, ''));
                        const bMin = parseInt(b.salary.match(/\$([0-9,]+)/g)[0].replace(/[$,]/g, ''));
                        return aMin - bMin;
                    });
                    break;
                default: // 'recent'
                    // Assuming newer jobs have smaller "posted" values (e.g., "1 day ago" vs "2 weeks ago")
                    // In a real app, you'd use actual dates
                    filteredJobs.sort((a, b) => {
                        const aDays = getDaysFromPosted(a.posted);
                        const bDays = getDaysFromPosted(b.posted);
                        return aDays - bDays;
                    });
            }
            
            renderJobs(filteredJobs);
        }

        // Helper function to convert "posted" string to days
        function getDaysFromPosted(postedStr) {
            const num = parseInt(postedStr);
            if (postedStr.includes('day')) return num;
            if (postedStr.includes('week')) return num * 7;
            return num * 30; // assuming month
        }

        // Toggle job saved status
        function toggleSavedJob(jobId) {
            const index = savedJobs.indexOf(jobId);
            if (index === -1) {
                savedJobs.push(jobId);
            } else {
                savedJobs.splice(index, 1);
            }
            
            localStorage.setItem('savedJobs', JSON.stringify(savedJobs));
            renderSavedJobs();
        }

        // Show autocomplete suggestions
        function showAutocomplete(input, results, container) {
            const value = input.value.toLowerCase();
            container.innerHTML = '';
            
            if (!value) {
                container.classList.remove('show');
                return;
            }
            
            const filtered = results.filter(item => 
                item.toLowerCase().includes(value)
            );
            
            if (filtered.length === 0) {
                container.classList.remove('show');
                return;
            }
            
            filtered.forEach(item => {
                const div = document.createElement('div');
                div.className = 'autocomplete-item';
                div.textContent = item;
                div.addEventListener('click', () => {
                    input.value = item;
                    container.classList.remove('show');
                    filterJobs();
                });
                container.appendChild(div);
            });
            
            container.classList.add('show');
        }

        // Toggle view between grid and list
        function toggleView(view) {
            viewBtns.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.view === view);
            });
            
            jobList.classList.toggle('list-view', view === 'list');
        }

        // Toggle dark/light mode
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
            
            // Update theme toggle icon
            themeToggle.textContent = isDark ? '☀️' : '🌓';
        }

        // Toggle mobile menu
        function toggleMobileMenu() {
            mobileMenu.classList.toggle('open');
            overlay.classList.toggle('show');
            document.body.style.overflow = mobileMenu.classList.contains('open') ? 'hidden' : '';
        }

        // Mock geolocation for "Jobs Near Me"
        function findNearbyJobsHandler() {
            // In a real app, this would use the Geolocation API
            const mockLocations = ["New York, NY", "Brooklyn, NY", "Jersey City, NJ"];
            locationSearch.value = "Near Me";
            
            // Filter for jobs in these locations
            const nearbyJobs = jobs.filter(job => 
                mockLocations.some(loc => job.location.includes(loc))
            );
            
            renderJobs(nearbyJobs);
            alert("Showing jobs near your location. In a real app, this would use your actual location.");
        }

        // Set up event listeners
        function setupEventListeners() {
            // Search and filter inputs
            keywordSearch.addEventListener('input', () => {
                showAutocomplete(keywordSearch, keywords, keywordAutocomplete);
                filterJobs();
            });
            
            locationSearch.addEventListener('input', () => {
                showAutocomplete(locationSearch, locations, locationAutocomplete);
                filterJobs();
            });
            
            jobTypeFilter.addEventListener('change', filterJobs);
            experienceFilter.addEventListener('change', filterJobs);
            minSalary.addEventListener('input', filterJobs);
            maxSalary.addEventListener('input', filterJobs);
            sortBy.addEventListener('change', filterJobs);
            
            // Click outside autocomplete to close it
            document.addEventListener('click', (e) => {
                if (e.target !== keywordSearch) {
                    keywordAutocomplete.classList.remove('show');
                }
                if (e.target !== locationSearch) {
                    locationAutocomplete.classList.remove('show');
                }
            });
            
            // View toggle buttons
            viewBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    toggleView(btn.dataset.view);
                });
            });
            
            // Save job buttons (using event delegation)
            jobList.addEventListener('click', (e) => {
                if (e.target.classList.contains('save-job')) {
                    const jobId = parseInt(e.target.dataset.jobId);
                    toggleSavedJob(jobId);
                    
                    // Update the button appearance
                    e.target.classList.toggle('saved');
                    e.target.textContent = e.target.classList.contains('saved') ? '★' : '☆';
                }
            });
            
            // Find nearby jobs button
            findNearbyJobs.addEventListener('click', findNearbyJobsHandler);
            
            // Theme toggle
            themeToggle.addEventListener('click', toggleTheme);
            
            // Mobile menu
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            closeMenuBtn.addEventListener('click', toggleMobileMenu);
            overlay.addEventListener('click', toggleMobileMenu);
        }

        // Check for saved theme preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            themeToggle.textContent = '☀️';
        }

        // Initialize the app
        init();
    </script>
</body>
</html>
